<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Event Ticketing - Solana</title>
        <!-- Modern Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600&display=swap"
            rel="stylesheet"
        />

        <style>
            /* ===== CSS VARIABLES FOR THEMING ===== */
            :root {
                /* Color Palette */
                --color-primary: #c2e2fa;
                --color-secondary: #2d5a7b;
                --color-background: #f8fbfd;
                --color-text: #1e3a4c;
                --color-accent: #ff8a80;

                /* Derived Colors */
                --color-primary-light: #e3f2fd;
                --color-primary-dark: #a0d2f0;
                --color-secondary-light: #4a7ba0;
                --color-text-muted: #5a7a8c;
                --color-border: #d6e9f5;
                --color-card-bg: #ffffff;
                --color-success: #4caf93;
                --color-warning: #ffb74d;
                --color-error: #ff6b6b;

                /* Typography */
                --font-heading:
                    "Plus Jakarta Sans", system-ui, -apple-system, sans-serif;
                --font-body: "DM Sans", system-ui, -apple-system, sans-serif;

                /* Spacing */
                --radius-sm: 8px;
                --radius-md: 12px;
                --radius-lg: 16px;
                --radius-xl: 20px;

                /* Shadows */
                --shadow-sm: 0 2px 8px rgba(45, 90, 123, 0.06);
                --shadow-md: 0 4px 16px rgba(45, 90, 123, 0.08);
                --shadow-lg: 0 8px 24px rgba(45, 90, 123, 0.12);
                --shadow-hover: 0 12px 32px rgba(45, 90, 123, 0.16);

                /* Transitions */
                --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
                --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
                --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
            }

            /* ===== RESET & BASE ===== */
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }

            body {
                font-family: var(--font-body);
                line-height: 1.65;
                color: var(--color-text);
                background: linear-gradient(
                    135deg,
                    var(--color-background) 0%,
                    #ffffff 100%
                );
                min-height: 100vh;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .container {
                max-width: 1280px;
                margin: 0 auto;
                padding: 32px 24px;
            }

            /* ===== TYPOGRAPHY ===== */
            h1,
            h2,
            h3,
            h4,
            h5,
            h6 {
                font-family: var(--font-heading);
                font-weight: 700;
                line-height: 1.3;
                color: var(--color-text);
            }

            h1 {
                font-size: 2.5rem;
                font-weight: 800;
                margin-bottom: 28px;
                letter-spacing: -0.02em;
            }

            h2 {
                font-size: 2rem;
                font-weight: 700;
                margin-bottom: 1rem;
                letter-spacing: -0.01em;
            }

            h3 {
                font-size: 1.5rem;
                font-weight: 600;
                margin-bottom: 0.75rem;
            }

            h4 {
                font-size: 1.25rem;
                font-weight: 600;
                margin-bottom: 0.5rem;
            }

            p {
                margin-bottom: 1rem;
                color: var(--color-text-muted);
            }

            /* ===== HEADER ===== */
            header {
                background: var(--color-card-bg);
                padding: 28px 32px;
                margin-bottom: 32px;
                border-radius: var(--radius-lg);
                box-shadow: var(--shadow-md);
                backdrop-filter: blur(10px);
                border: 1px solid var(--color-border);
            }

            nav {
                display: flex;
                gap: 12px;
                margin-bottom: 20px;
                flex-wrap: wrap;
                align-items: center;
            }

            /* ===== BUTTONS ===== */
            button {
                font-family: var(--font-body);
                font-weight: 600;
                background: var(--color-secondary);
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: var(--radius-md);
                cursor: pointer;
                font-size: 15px;
                transition: all var(--transition-base);
                box-shadow: var(--shadow-sm);
                position: relative;
                overflow: hidden;
            }

            button:hover {
                background: var(--color-secondary-light);
                transform: translateY(-2px);
                box-shadow: var(--shadow-md);
            }

            button:active {
                transform: translateY(0);
                box-shadow: var(--shadow-sm);
            }

            button:focus {
                outline: none;
                box-shadow: 0 0 0 3px var(--color-primary);
            }

            /* Accent Button (CTA) */
            button.accent,
            .event-actions button:first-child {
                background: var(--color-accent);
                color: white;
            }

            button.accent:hover,
            .event-actions button:first-child:hover {
                background: #ff9e94;
                transform: translateY(-2px) scale(1.02);
            }

            /* Cancel/Danger Button */
            .cancel-button,
            .refund-button {
                background: var(--color-error);
            }

            .cancel-button:hover,
            .refund-button:hover {
                background: #ff8080;
            }

            /* ===== INPUTS ===== */
            input[type="text"] {
                font-family: var(--font-body);
                padding: 14px 16px;
                border: 2px solid var(--color-border);
                border-radius: var(--radius-md);
                font-size: 15px;
                width: 100%;
                max-width: 100%;
                transition: all var(--transition-fast);
                background: var(--color-card-bg);
                color: var(--color-text);
            }

            input[type="text"]:hover {
                border-color: var(--color-primary-dark);
            }

            input[type="text"]:focus {
                outline: none;
                border-color: var(--color-secondary);
                box-shadow: 0 0 0 3px var(--color-primary-light);
            }

            input[type="text"]::placeholder {
                color: var(--color-text-muted);
                opacity: 0.6;
            }

            /* ===== MAIN CONTENT ===== */
            main {
                background: var(--color-card-bg);
                padding: 32px;
                border-radius: var(--radius-lg);
                box-shadow: var(--shadow-md);
                border: 1px solid var(--color-border);
            }

            .page {
                min-height: 400px;
            }

            /* ===== MESSAGE BOX ===== */
            .message {
                padding: 16px 20px;
                margin-bottom: 24px;
                background: linear-gradient(
                    135deg,
                    var(--color-primary-light) 0%,
                    var(--color-primary) 100%
                );
                border-left: 4px solid var(--color-secondary);
                border-radius: var(--radius-md);
                color: var(--color-text);
                font-weight: 500;
                box-shadow: var(--shadow-sm);
            }

            /* ===== WALLET INFO ===== */
            .wallet-info {
                background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
                padding: 12px 24px;
                border-radius: var(--radius-md);
                font-size: 15px;
                color: var(--color-success);
                font-weight: 600;
                border: 1px solid rgba(76, 175, 147, 0.2);
                box-shadow: var(--shadow-sm);
            }

            /* ===== CARDS ===== */
            .event-card,
            .ticket-card,
            .event-management-card {
                background: var(--color-card-bg);
                border: 1px solid var(--color-border);
                border-radius: var(--radius-lg);
                padding: 28px;
                transition: all var(--transition-base);
                box-shadow: var(--shadow-sm);
            }

            .event-card {
                display: flex;
                flex-direction: column;
            }

            .event-card:hover,
            .ticket-card:hover,
            .event-management-card:hover {
                transform: translateY(-4px);
                box-shadow: var(--shadow-hover);
                border-color: var(--color-primary);
            }

            .event-card h3,
            .ticket-card h3,
            .event-management-card h3 {
                color: var(--color-secondary);
                margin-bottom: 16px;
                font-size: 1.35rem;
            }

            .event-card p,
            .ticket-card p {
                margin-bottom: 10px;
                font-size: 15px;
                color: var(--color-text-muted);
                font-weight: 500;
            }

            .event-card .event-actions {
                margin-top: auto;
            }

            .event-card .my-tickets-indicator {
                flex-shrink: 0;
            }

            /* ===== GRIDS ===== */
            .events-list {
                margin-top: 28px;
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));
                gap: 24px;
            }

            .tickets-list {
                margin-top: 28px;
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
                gap: 24px;
            }

            .tickets-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
                gap: 16px;
            }

            /* ===== ADDRESS FIELDS ===== */
            .address-field {
                margin: 12px 0;
                display: flex;
                flex-direction: column;
                gap: 6px;
            }

            .address-label {
                font-size: 13px;
                font-weight: 600;
                color: var(--color-text);
                user-select: none;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .address-value {
                font-family: "SF Mono", "Monaco", "Cascadia Code", monospace;
                font-size: 12px;
                word-break: break-all;
                background: var(--color-primary-light);
                padding: 12px 14px;
                border-radius: var(--radius-sm);
                user-select: all;
                cursor: text;
                color: var(--color-secondary);
                border: 1px solid var(--color-border);
                transition: all var(--transition-fast);
            }

            .address-value:hover {
                background: var(--color-primary);
                border-color: var(--color-secondary);
                box-shadow: var(--shadow-sm);
            }

            /* ===== ACTIONS ===== */
            .event-actions,
            .ticket-actions {
                margin-top: 20px;
                display: flex;
                flex-direction: column;
                gap: 12px;
            }

            .event-actions {
                flex-direction: row;
            }

            .ticket-actions input {
                margin-bottom: 8px;
            }

            .ticket-actions button,
            .event-actions button {
                width: 100%;
            }

            .event-actions button {
                width: auto;
                flex: 1;
            }

            /* ===== STATUS BADGES ===== */
            .status-canceled {
                color: var(--color-error);
                font-weight: 700;
                background: rgba(255, 107, 107, 0.1);
                padding: 6px 12px;
                border-radius: var(--radius-sm);
                display: inline-block;
                font-size: 13px;
            }

            .status-sold-out {
                color: var(--color-warning);
                font-weight: 700;
                background: rgba(255, 183, 77, 0.1);
                padding: 6px 12px;
                border-radius: var(--radius-sm);
                display: inline-block;
                font-size: 13px;
            }

            .status-available {
                color: var(--color-success);
                font-weight: 700;
                background: rgba(76, 175, 147, 0.1);
                padding: 6px 12px;
                border-radius: var(--radius-sm);
                display: inline-block;
                font-size: 13px;
            }

            /* ===== FORMS ===== */
            .create-event-form,
            .checkin-form {
                max-width: 640px;
                margin-top: 24px;
            }

            .form-field {
                margin-bottom: 24px;
            }

            .form-field label {
                display: block;
                margin-bottom: 10px;
                font-weight: 600;
                color: var(--color-text);
                font-size: 15px;
            }

            .form-field input {
                width: 100%;
                max-width: 100%;
            }

            .help-text {
                margin-top: 16px;
                color: var(--color-text-muted);
                font-size: 14px;
                font-style: italic;
            }

            /* ===== INDICATORS & INFO ===== */
            .my-tickets-indicator {
                color: var(--color-secondary);
                font-weight: 600;
                background: linear-gradient(
                    135deg,
                    var(--color-primary-light) 0%,
                    var(--color-primary) 100%
                );
                padding: 12px 16px;
                border-radius: var(--radius-md);
                margin: 12px 0;
                border: 1px solid var(--color-border);
                box-shadow: var(--shadow-sm);
            }

            .info-text {
                color: var(--color-text-muted);
                font-size: 14px;
                margin: 12px 0;
                font-weight: 500;
            }

            /* ===== EVENT DETAILS ===== */
            .event-details {
                margin-top: 24px;
                padding: 28px;
                background: var(--color-primary-light);
                border-radius: var(--radius-lg);
                border: 1px solid var(--color-border);
            }

            .event-details p {
                margin-bottom: 12px;
                color: var(--color-text);
                font-weight: 500;
            }

            .event-details button {
                margin-top: 20px;
            }

            .event-stats {
                margin: 20px 0;
                padding: 20px;
                background: var(--color-card-bg);
                border-radius: var(--radius-md);
                border: 1px solid var(--color-border);
                box-shadow: var(--shadow-sm);
            }

            .event-stats p {
                margin: 8px 0;
                font-size: 15px;
                font-weight: 500;
                color: var(--color-text);
            }

            /* ===== REFUND CARDS ===== */
            .tickets-to-refund {
                margin-top: 28px;
                padding-top: 28px;
                border-top: 2px solid var(--color-border);
            }

            .tickets-to-refund h4 {
                margin-bottom: 20px;
                color: var(--color-text);
                font-weight: 600;
            }

            .ticket-refund-card {
                background: var(--color-background);
                padding: 20px;
                border-radius: var(--radius-md);
                border: 1px solid var(--color-border);
                transition: all var(--transition-base);
                box-shadow: var(--shadow-sm);
            }

            .ticket-refund-card:hover {
                transform: translateY(-2px);
                box-shadow: var(--shadow-md);
                border-color: var(--color-primary);
            }

            .ticket-refund-card p {
                margin-bottom: 10px;
                font-weight: 600;
                color: var(--color-text);
            }

            .address-field-small {
                font-size: 12px;
                color: var(--color-text-muted);
                margin-bottom: 12px;
                font-family: "SF Mono", "Monaco", monospace;
            }

            .refund-button {
                width: 100%;
                padding: 10px;
                font-size: 14px;
            }

            /* ===== EVENTS MANAGEMENT ===== */
            .events-management-list {
                display: flex;
                flex-direction: column;
                gap: 24px;
                margin-top: 28px;
            }

            /* ===== RESPONSIVE ===== */
            @media (max-width: 768px) {
                .container {
                    padding: 20px 16px;
                }

                h1 {
                    font-size: 2rem;
                }

                h2 {
                    font-size: 1.75rem;
                }

                nav {
                    flex-direction: column;
                }

                .events-list,
                .tickets-list {
                    grid-template-columns: 1fr;
                }

                .event-actions {
                    flex-direction: column;
                }

                main {
                    padding: 24px 20px;
                }

                header {
                    padding: 20px;
                }
            }

            /* ===== ANIMATIONS ===== */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .event-card,
            .ticket-card,
            .event-management-card {
                animation: fadeIn var(--transition-slow) ease-out;
            }

            /* ===== BECOME ORGANIZER PAGE CARDS ===== */
            .organizer-benefits {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 20px;
                margin: 28px 0;
            }

            .benefit-card {
                background: linear-gradient(
                    135deg,
                    var(--color-primary-light) 0%,
                    #ffffff 100%
                );
                border: 2px solid var(--color-border);
                border-radius: var(--radius-lg);
                padding: 24px;
                transition: all var(--transition-base);
                box-shadow: var(--shadow-sm);
            }

            .benefit-card:hover {
                border-color: var(--color-secondary);
                box-shadow: var(--shadow-md);
                transform: translateY(-4px);
            }

            .benefit-icon {
                font-size: 2.5rem;
                margin-bottom: 12px;
                display: block;
            }

            .benefit-card h4 {
                color: var(--color-secondary);
                margin-bottom: 10px;
                font-size: 1.1rem;
            }

            .benefit-card p {
                color: var(--color-text-muted);
                font-size: 14px;
                line-height: 1.6;
                margin: 0;
            }

            .registration-info {
                background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
                border: 2px solid var(--color-primary);
                border-radius: var(--radius-lg);
                padding: 20px 24px;
                margin: 24px 0;
                max-width: 700px;
            }

            .registration-info strong {
                color: var(--color-secondary);
                display: block;
                margin-bottom: 8px;
                font-size: 15px;
            }

            .registration-info p {
                color: var(--color-text);
                margin: 0;
                line-height: 1.6;
            }

            .already-registered {
                background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
                border: 2px solid var(--color-success);
                border-radius: var(--radius-lg);
                padding: 28px;
                margin: 24px 0;
                text-align: center;
            }

            .already-registered h3 {
                color: var(--color-success);
                margin-bottom: 12px;
                font-size: 1.5rem;
            }

            .already-registered p {
                color: #2e7d32;
                margin-bottom: 20px;
            }

            /* ===== CHECK-IN PAGE STEP CARDS ===== */
            .staff-warning {
                background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
                border-left: 4px solid var(--color-warning);
                padding: 16px 20px;
                border-radius: var(--radius-md);
                margin-bottom: 24px;
                font-weight: 600;
                color: #e65100;
                box-shadow: var(--shadow-sm);
            }

            .check-in-steps {
                display: grid;
                gap: 20px;
                margin: 28px 0;
                max-width: 900px;
            }

            .step-card {
                background: var(--color-card-bg);
                border: 2px solid var(--color-border);
                border-radius: var(--radius-lg);
                padding: 24px 28px;
                transition: all var(--transition-base);
                box-shadow: var(--shadow-sm);
                position: relative;
                padding-left: 80px;
            }

            .step-card:hover {
                border-color: var(--color-primary);
                box-shadow: var(--shadow-md);
                transform: translateX(4px);
            }

            .step-number {
                position: absolute;
                left: 24px;
                top: 24px;
                width: 42px;
                height: 42px;
                background: linear-gradient(
                    135deg,
                    var(--color-secondary) 0%,
                    var(--color-secondary-light) 100%
                );
                color: white;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 800;
                font-size: 20px;
                font-family: var(--font-heading);
                box-shadow: var(--shadow-sm);
            }

            .step-card h4 {
                color: var(--color-secondary);
                margin-bottom: 12px;
                font-size: 1.15rem;
            }

            .step-card p {
                color: var(--color-text-muted);
                line-height: 1.7;
                margin-bottom: 8px;
            }

            .step-card ul {
                margin: 12px 0 0 20px;
                color: var(--color-text-muted);
            }

            .step-card ul li {
                margin-bottom: 8px;
                line-height: 1.6;
            }

            .security-note {
                background: linear-gradient(135deg, #fff3e0 0%, #ffecb3 100%);
                border: 2px solid #ffb74d;
                border-radius: var(--radius-md);
                padding: 16px 20px;
                margin: 24px 0;
                max-width: 900px;
            }

            .security-note strong {
                color: #e65100;
                display: block;
                margin-bottom: 8px;
                font-size: 15px;
            }

            .security-note p {
                color: #5d4037;
                margin: 0;
                line-height: 1.6;
            }

            /* ===== SCROLLBAR ===== */
            ::-webkit-scrollbar {
                width: 10px;
            }

            ::-webkit-scrollbar-track {
                background: var(--color-background);
            }

            ::-webkit-scrollbar-thumb {
                background: var(--color-primary);
                border-radius: 5px;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: var(--color-primary-dark);
            }
        </style>
    </head>
    <body>
        <div id="app"></div>

        <!-- Load Elm first -->
        <script src="/elm.js"></script>

        <!-- Load bundled ports with all dependencies -->
        <script src="/ports-bundle.js"></script>

        <!-- Initialize the app -->
        <script>
            function initApp() {
                if (
                    typeof Elm === "undefined" ||
                    typeof PortsModule === "undefined" ||
                    typeof PortsModule.initPorts === "undefined"
                ) {
                    console.log("Waiting for modules to load...");
                    setTimeout(initApp, 100);
                    return;
                }

                console.log("Initializing Event Ticketing App...");

                const app = Elm.Main.init({
                    node: document.getElementById("app"),
                });

                PortsModule.initPorts(app);
                console.log("Event Ticketing App loaded!");
            }

            setTimeout(initApp, 100);
        </script>
    </body>
</html>
